{
    "$schema": "https://raw.githubusercontent.com/Microsoft/azure-pipelines-task-lib/master/tasks.schema.json",
    "id": "702d7430-c3a9-422a-87f2-569ed16ba6be",
    "name": "APICoverageTest",
    "friendlyName": "API Coverage Test",
    "description": "Test coverage according to tested endpoints and what's in the swagger. Only support for JUnit test format.",
    "helpMarkDown": "",
    "category": "Test",
    "author": "Alex Alves",
    "version": {
        "Major": 0,
        "Minor": 1,
        "Patch": 13
    },
    "instanceNameFormat": "API Coverage Test",
    "groups": [
        {
            "name": "WebhookGroup",
            "displayName": "Webhook",
            "isExpanded": true
        }
    ],
    "inputs": [
        {
            "name": "ApplicationName",
            "type": "string",
            "label": "Application Name",
            "defaultValue": "",
            "required": true,
            "helpMarkDown": "Your project name"
        },
        {
            "name": "ApiUrl",
            "type": "string",
            "label": "Api url",
            "defaultValue": "",
            "required": true,
            "helpMarkDown": "For example: https://{url}/"
        },
        {
            "name": "SwaggerJsonPath",
            "type": "string",
            "label": "PATH to JSON of Swagger",
            "defaultValue": "",
            "required": true,
            "helpMarkDown": "For example: swagger/{version}/swagger.json"
        },
        {
            "name": "TestsResultPath",
            "type": "string",
            "label": "Tests Result Path",
            "defaultValue": "$(System.DefaultWorkingDirectory)\\Results\\junitReport.xml",
            "required": true,
            "helpMarkDown": "Output path where the test result are available."
        },
        {
            "name": "WhereIsTheTest",
            "type": "radio",
            "label": "Where is the tests name",
            "required": true,
            "defaultValue": "testSuite",
            "helpMarkDown": "Choose which tag shows the details of the test (path and verb) in the generated XML. In POSTMAN it is generated in Test Suite, and in applications made in JS it is generated in Test Case.",
            "options": {
                "testSuite": "Test Suite",
                "testCase": "Test Case"
            }
        },
        {
            "name": "Webhook",
            "type": "string",
            "label": "Webhook",
            "required": false,
            "defaultValue": "",
            "helpMarkDown": "Inform the endpoint that receive a payload's coverage result.",
            "groupName": "WebhookGroup"
        },
        {
            "name": "BuildNumber",
            "type": "string",
            "label": "Build Number",
            "defaultValue": "$(Build.BuildNumber)",
            "required": true,
            "visibleRule": "false = true"
        }
    ],
    "execution": {
        "Node10": {
            "target": "index.js"
        }
    }
}